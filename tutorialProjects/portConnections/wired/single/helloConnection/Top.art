capsule Top{
    part sender : Sender;
    part receiver : Receiver;

    connect sender.receiverPort with receiver.senderPort;

    statemachine{
        state State;
        initial->State;
    };
};